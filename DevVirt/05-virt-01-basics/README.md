
# Домашнее задание к занятию "5.1. Введение в виртуализацию. Типы и функции гипервизоров. Обзор рынка вендоров и областей применения."


## Как сдавать задания

Обязательными к выполнению являются задачи без указания звездочки. Их выполнение необходимо для получения зачета и диплома о профессиональной переподготовке.

Задачи со звездочкой (*) являются дополнительными задачами и/или задачами повышенной сложности. Они не являются обязательными к выполнению, но помогут вам глубже понять тему.

Домашнее задание выполните в файле readme.md в github репозитории. В личном кабинете отправьте на проверку ссылку на .md-файл в вашем репозитории.

Любые вопросы по решению задач задавайте в чате учебной группы.

---

## Задача 1

Опишите кратко, как вы поняли: в чем основное отличие полной (аппаратной) виртуализации, паравиртуализации и виртуализации на основе ОС.

Полная (аппаратная) виртуализация - при данной виртуализации использется гипервизор он же и является операционной системой, основная и единственная функция это обеспечение работы/управления виртуальных машин (разделение ресурсов физических серверов для гостевых ОС) - VMWare ESX, Xen (HVM)

Паравиртуализация - основное отличие это наличие установленной самостоятельной операционная системы внутри которой развёртывается гипервизор для запуска в котором производится модификация ядра гостевой ОС и внутри этой модифицированной ОС и работают наши приложения - VirualBox, KVM, Xen (PV).

Виртуализация на основе ОС - к данному типу виртуализации относится способ который позволяет на хостовой ОС запустить/создать несколько изолированных экземпляров одной ОС - т.е. по факту организуется песочница внутри которой запускаются изолированные экзэмпляры с ядрами аналогичными основной ОС ().
Эти экземпляры (часто называемые контейнерами или зонами) с точки зрения пользователя полностью идентичны реальному серверу. 


## Задача 2

Выберите один из вариантов использования организации физических серверов, в зависимости от условий использования.

Организация серверов:
- физические сервера,
- паравиртуализация,
- виртуализация уровня ОС.

Условия использования:
- Высоконагруженная база данных, чувствительная к отказу.
- Различные web-приложения.
- Windows системы для использования бухгалтерским отделом.
- Системы, выполняющие высокопроизводительные расчеты на GPU - физическая машина

Опишите, почему вы выбрали к каждому целевому использованию такую организацию.

|Условия использования|Организация серверов | Обоснование |
|---------------------|---------------------|---------------------|
|Высоконагруженная база данных, чувствительная к отказу.|Физические сервера *| Максимальная производительность, отсутсвие накладных расходов на виртуализацию, отсутствие влияния других систем на работу БД|
|Различные web-приложения.|Виртуализация уровня ОС| Производительность близкая к хостовой, возможность быстро нарастить количество однотипных хостов, легко управлять количестовм выделяемых CPU/RAM отдельных хостов. 
|Windows системы для использования бухгалтерским отделом.| Паравитуализация| повышение утилизации аппаратных ресурсов серверов за счёт их переиспользования для другого назначения. например: развёртывания AD, локального dns, организации виртуальных рабочих мест.
|Системы, выполняющие высокопроизводительные расчеты на GPU | Физические сервера** | В случае использования распределения вычисления в рамках специализированных программных продуктов вычисления разделяются между GPU на уровне драйверов, однако имеет место быть исключения для применения физических серверов в зависимости от решаемой задачи|

* Использование физических серверов может быть обусловлено необходимостью исключения влияния соседних хостов на производительность БД, однако при развёртывании БД следует так же учитывать скорость восстановления БД на физическом и виртуальном сервере, лёгкость переноса данных между виртуальными серверами в различных ЦОД.

** В случае когда требуется массовое предоставление высокопроизводительных виртуальных рабочих мест с хорошей графикой имеет место применение полной (аппаратной) виртуализации, в этом случае вся обработка на GPU происходит на 'бэке', потребителю передаётся уже отрендеренное изображение. 


## Задача 3

Выберите подходящую систему управления виртуализацией для предложенного сценария. Детально опишите ваш выбор.

Сценарии:

1. 100 виртуальных машин на базе Linux и Windows, общие задачи, нет особых требований. Преимущественно Windows based инфраструктура, требуется реализация программных балансировщиков нагрузки, репликации данных и автоматизированного механизма создания резервных копий.

VMWare vSphere - наиболее подходящее решение в данном случае, поддерживает виртуализацию ОС, имеется поддержка Load Balancing, из минусов - высокая цена владения.

*Hyper-V - возможное решение в данном случае при переиспользовании лицензий Windows с принятием ограниченной поддержки Linux дистрибутивов накладываемые данной технологией.

2. Требуется наиболее производительное бесплатное open source решение для виртуализации небольшой (20-30 серверов) инфраструктуры на базе Linux и Windows виртуальных машин.


3. Необходимо бесплатное, максимально совместимое и производительное решение для виртуализации Windows инфраструктуры.

Hyper-V Core - за счёт переиспользования лицензий.

4. Необходимо рабочее окружение для тестирования программного продукта на нескольких дистрибутивах Linux.

Docker, Virtual Box, VMware ESXi - бесплатны/условно бесплатны, позволяют развернуть необходимое окружение и настроить взаимодействие как внутри окружения, так и предоставить доступ с наружи.

## Задача 4

Опишите возможные проблемы и недостатки гетерогенной среды виртуализации (использования нескольких систем управления виртуализацией одновременно) и что необходимо сделать для минимизации этих рисков и проблем. Если бы у вас был выбор, то создавали бы вы гетерогенную среду или нет? Мотивируйте ваш ответ примерами.

Основные недостатки гетерогенной среды виртуализации: Различие в способах управления конфигурационной информацией виртуальных хостов. Отличия сценариев при развёртывании/миграции на разных системах виртуализации. Необходим довольно высокий уровень подготовки специалистов сопровождения.

Для уменьшения рисков необходимо комплексное решение: унификация среды виртуализации - в идеале одна высокопроизводительная система виртуализации, поддерживающая различные ОС, имеющая гибкие средства управления конфигурацией виртуальных хостов и обеспечивающая высокую доступность. Так же в идеале исключение использования дублирующих друг друга технологий виртуализации в рамках всей виртуальной среды.
